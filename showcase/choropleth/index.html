---
layout: showcase
title: Choropleth Maps
---

<link rel="stylesheet" type="text/css" href="/css/jquery.qtip.css">
<style type="text/css">
.mapnail {
    display: inline-block;
    width: 33%;
}
</style>
<script type="text/javascript" src="/js/jquery.qtip.min.js"></script>

<script type="text/javascript" src="/js/chroma.min.js"></script>

<script type="text/javascript">

    $(function() {
        var map,
            colorscale,
            departments = {},
            w = $('#map').parent().width();

        // initialize qtip tooltip class
        $.fn.qtip.defaults.style.classes = 'ui-tooltip-bootstrap';
        $.fn.qtip.defaults.style.def = false;

        $.getJSON('departments.json', function(data) {

            $.each(data, function(i, r) {
                departments[r.id] = r;
            });

            $.get('france-departments.svg', function(svg) {

                $.each(['Reds', 'GnBu', 'RdYlBu', 'PiYG', 'PRGn', 'YlOrRd'], function(i, brewer) {

                    var div = $('<div />').addClass('mapnail');
                    $('#map').append(div);

                    var map = Kartograph.map(div, w * 0.32, w/3),
                        color = chroma.scale(brewer).domain(departments, 7, 'quantiles', 'density');

                    map.setMap(svg);

                    map.addLayer('departments', {
                        styles: {
                            'stroke-width': 0.7,
                            fill: function(d) { return color(departments[d.id].density); },
                            stroke: function(d) { return color(departments[d.id].density).darker(); }
                        },
                        tooltips: function(d) {
                            return [d.name, departments[d.id].density + '/km<sup>2</sup>'];
                        }
                    });

                });

            });
        });

    });

</script>


<p>This choropleth map shows population data for each of the departements of metropolean France.  In general, mapping absolute quantities to values result in erroneous images since larger areas are perceived. Another way to get around this issue is to use <a href="/showcase/dotgrid/">dot grid maps</a>.</p>

<div id="map">&nbsp;</div>

<h2>Colors</h2>
<select id="colors" class="span2">
    <optgroup label="Single hue">
        <option value="Grays">Grays</option>
        <option value="Blues">Blues</option>
        <option value="Reds">Reds</option>
        <option value="Oranges">Oranges</option>
        <option value="Greens">Greens</option>
        <option value="Purples">Purples</option>
    </optgroup>
    <optgroup label="Multiple hues">
        <option value="OrRd">Orange &rarr; Red</option>
        <option value="PuBu">Purple &rarr; Blue</option>
        <option value="PuRd">Purple &rarr; Red</option>
        <option value="RdPu">Red &rarr; Purple</option>
        <option value="BuPu">Blue &rarr; Purple</option>
        <option value="BuGn">Blue &rarr; Green</option>
        <option value="YlGn">Yellow &rarr; Green</option>
        <option value="GnBu">Green &rarr; Blue</option>
        <option value="YlGnBu" selected="selected">Yellow &rarr; Green &rarr; Blue</option>
        <option value="YlOrBr">Yellow &rarr; Orange &rarr; Brown</option>
        <option value="YlOrRd">Yellow &rarr; Orange &rarr; Red</option>
        <option value="PuBuGn">Purple &rarr; Blue &rarr; Green</option>
    </optgroup>
</select>
<p>The <b>colors</b> are taken from <a href="http://colorbrewer2.org">ColorBrewer</a>. They are included in <a href="https://github.com/gka/chroma.js">chroma.js</a>.</p>
<p>Map source: <a href="http://gadm.org">GADM</a>, <a href="/maps/#3683747">Kartograph config</a></p>


